import{u as h,o as n,c as l,a as d,F as w,r as I,t as j,b as i,p as V,d as O,e as B,f as L,w as z,g as M,h as _,i as b,j as k,T as C,m as R,k as N,l as q,n as g,q as D,s as P,v as $,x as U,y as A,D as T}from"./index.7bec2a76.js";import{_ as y,a as X,b as F}from"./index.38fa2507.js";const W=u=>(V("data-v-7e16b14c"),u=u(),O(),u),E={class:"menu-container"},H=W(()=>d("h2",{class:"menu-item-bold"},"\u5168\u3066\u306E\u30AB\u30C6\u30B4\u30EA\u30FC",-1)),G={class:"overflow-y-scroll"},J=["onClick"],K={name:"Menu"},Q=Object.assign(K,{props:{categories:{required:!0,type:Array}},emits:["onItemClick"],setup(u){const e=h();return(t,p)=>(n(),l("div",E,[H,d("ul",G,[(n(!0),l(w,null,I(i(e).getters.categories,(s,a)=>(n(),l("li",{key:s.id,class:"menu-item",onClick:m=>t.$emit("onItemClick",s,a)},j(s.jp_name),9,J))),128))])]))}}),Y=y(Q,[["__scopeId","data-v-7e16b14c"]]);const Z={name:"Popup"},ee=Object.assign(Z,{props:{modelValue:{required:!0,type:Boolean}},emits:["update:modelValue"],setup(u){const t=B(u),p=L(document.body);return z(t,s=>{p.value=s},{immediate:!0}),(s,a)=>(n(),l("div",null,[(n(),M(q,{to:"body"},[_(C,{name:"fade"},{default:b(()=>[i(t)?(n(),l("div",{key:0,class:"w-screen h-screen bg-zinc-900/80 z-40 fixed top-0 left-0",onClick:a[0]||(a[0]=m=>t.value=!1)})):k("",!0)]),_:1}),_(C,{name:"popup-down-up"},{default:b(()=>[i(t)?(n(),l("div",R({key:0},s.$attrs,{class:"w-screen bg-white dark:bg-zinc-800 z-50 fixed bottom-0"}),[N(s.$slots,"default",{},void 0,!0)],16)):k("",!0)]),_:3})]))]))}}),te=y(ee,[["__scopeId","data-v-3eabf139"]]);const se={class:"mobile-nav-container"},ae=["onClick"],oe={name:"MobileNavigation"},ne=Object.assign(oe,{props:{categories:{type:Array,required:!0}},setup(u){let e=g(!1);const t=g(null),{x:p}=D(t),s=g({transform:"translateX(0px)",width:"52.1px"}),a=h(),m=(c,o)=>{e.value=!1,a.commit("app/changeCurrentCategory",c),a.commit("app/changeCurrentCategoryIndex",o)};let v=[];const S=c=>{c&&v.push(c)};return z(()=>a.getters.currentCategoryIndex,c=>{c=a.getters.currentCategoryIndex.valueOf();const{left:o,width:r}=v[c].getBoundingClientRect(),f=10,x=p.value+o-f;s.value={transform:`translateX(${x+"px"})`,width:r+"px"},o+r>document.body.clientWidth&&(t.value.scrollLeft=t.value.scrollLeft+(o+r-document.body.clientWidth)+45),o<0&&(t.value.scrollLeft=0)}),P(()=>{v=[]}),(c,o)=>(n(),l("div",se,[d("ul",{id:"nav-ul",class:"mobile-category-bar",ref_key:"navUlRef",ref:t},[d("li",{class:"mobile-hamburger-btn",onClick:o[0]||(o[0]=r=>$(e)?e.value=!i(e):e=!i(e))},[_(X,{class:"w-1.5 h-1.5",name:"hamburger"})]),d("li",{class:"mobile-category-slider",style:U(s.value)},null,4),(n(!0),l(w,null,I(i(a).getters.categories,(r,f)=>(n(),l("li",{class:A(["mobile-category-item",{"text-zinc-100 ":i(a).getters.currentCategoryIndex===f}]),ref_for:!0,ref:S,onClick:x=>m(r,f)},j(r.jp_name),11,ae))),256))],512),_(te,{modelValue:i(e),"onUpdate:modelValue":o[1]||(o[1]=r=>$(e)?e.value=r:e=r)},{default:b(()=>[_(Y,{categories:c.$props.categories,onOnItemClick:m},null,8,["categories"])]),_:1},8,["modelValue"])]))}}),re=y(ne,[["__scopeId","data-v-3a6c3cd6"]]),le={class:"h-screen"},ce={class:"h-main"},ie={class:"h-full overflow-auto bg-white dark:bg-zinc-800 duration-500 scrollbar-thin scrollbar-thumb-transparent xl:scrollbar-thumb-zinc-200 xl:dark:scrollbar-thumb-zinc-900 scrollbar-track-transparent"},ue={class:"max-w-screen-xl mx-auto relative m-1.5 xl:mt-4"},de={name:"MobileHome"},fe=Object.assign(de,{setup(u){const e=T.getInstance();let t=g([]);return e.getAllCategories().then(s=>{t.value=s}),h().dispatch("category/useCategoryData"),(s,a)=>(n(),l("div",le,[d("div",ce,[d("div",ie,[_(re,{categories:i(t)},null,8,["categories"]),d("div",ue,[_(F)])])])]))}});export{fe as default};
